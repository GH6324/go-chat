// proto/common/api_options.proto
syntax = "proto3";

import "google/protobuf/descriptor.proto";

// 包名建议带上项目标识，避免与其他proto冲突
package common;

// 生成Go代码的包路径（根据实际项目调整）
option go_package = "github.com/gzydong/go-chat/api/pb/common;common";

// 1. 定义服务级别的自定义选项（可选）
message ServiceConfig {
  bool enable_log = 1;       // 是否开启服务日志
  int32 timeout = 2;         // 服务超时时间（毫秒）
  string topic = 3;
}

// 2. 定义方法级别的自定义选项（你的场景需要）
message MethodConfig {
  bool custom_proto = 4; // 自定义api协议
}

// 注册到Protobuf的扩展点
extend google.protobuf.ServiceOptions {
  ServiceConfig service_config = 1000; // 服务级选项（编号确保唯一）
}

extend google.protobuf.MethodOptions {
  MethodConfig method_config = 1001;   // 方法级选项（编号确保唯一）
}